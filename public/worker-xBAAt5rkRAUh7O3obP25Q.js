self.addEventListener("push",(function(n){const i=n.data.json(),t=i.title||"新しいアクションがありました",o={body:i.body||"詳細はクリックして確認してください",icon:'/icons/192x192.png"',badge:'/icons/192x192.png"',data:{url:i.url}};n.waitUntil(self.registration.showNotification(t,o))})),self.addEventListener("notificationclick",(function(n){n.notification.close(),n.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((()=>{if(clients.openWindow)return clients.openWindow(n.notification.data.url)})))}));